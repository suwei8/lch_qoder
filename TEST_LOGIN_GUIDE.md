# 洗车IOT管理系统 - 登录测试指南

## 🔐 登录方式说明

### 1. 商户管理平台（后台管理系统）
- **访问地址**: http://localhost:5601
- **登录方式**: 用户名密码登录
- **测试账号**: 
  - 用户名: `admin`
  - 密码: `123456`

### 2. 用户端H5应用（移动端应用）
- **访问地址**: http://localhost:5604
- **登录方式**: 
  1. **手机号+密码登录** ⭐（推荐）
  2. **微信授权登录**（需要微信环境）
  3. **演示登录**（测试专用）

## 📱 用户端H5应用登录详细说明

### 方式一：手机号+密码登录（新功能）
```
页面显示：
┌─────────────────────────┐
│ 手机号: [_______________] │
│ 密码:   [_______________] │
│                        │
│ [     登录     ]       │
│ [  返回微信登录  ]       │
│ [  🧪 演示登录  ]       │
└─────────────────────────┘
```

**测试用账号**（需要后端支持）:
- 手机号: 根据后端实际用户数据
- 密码: 根据后端实际用户数据

### 方式二：微信授权登录
**使用条件**:
- 需要在微信浏览器中打开
- 需要配置微信公众号参数

**操作步骤**:
1. 在微信中打开 http://localhost:5604
2. 点击"微信授权登录"按钮
3. 授权后自动登录

### 方式三：演示登录（测试专用）
**测试数据**:
- 用户ID: 1001
- 手机号: 13800138000
- 昵称: 测试用户
- 余额: 100.00元
- 赠送余额: 50.00元

**操作步骤**:
1. 点击"🧪 演示登录"按钮
2. 自动使用模拟数据登录
3. 可立即体验所有功能

## 🔧 登录逻辑变更说明

### 主要变更
1. **移除短信验证码登录**
   - 不再需要发送验证码
   - 简化登录流程

2. **新增手机号+密码登录**
   - 传统登录方式
   - 更符合用户习惯

3. **保留微信授权登录**
   - 适配微信生态
   - 提供便捷登录选项

### API接口变更
- 新增: `POST /auth/phone/password` - 手机号密码登录
- 保留: `POST /auth/wechat/login` - 微信授权登录
- 保留: `POST /auth/phone/login` - 手机号验证码登录（备用）

## 🚀 测试建议

### 功能测试
1. **商户管理平台**
   - 使用 admin/123456 登录
   - 测试各个管理功能

2. **用户端H5应用**
   - 优先使用"演示登录"进行功能测试
   - 测试完整的用户流程

### 界面测试
1. **响应式设计**
   - 在不同设备尺寸下测试
   - 确保界面适配正常

2. **微信环境测试**
   - 在微信浏览器中测试
   - 验证微信登录功能

## 📋 注意事项

1. **后端支持**
   - 确保后端已实现 `/auth/phone/password` 接口
   - 确认用户数据库中有对应的测试账号

2. **环境配置**
   - 微信登录需要配置 `VITE_WECHAT_APP_ID`
   - 确保所有环境变量正确设置

3. **安全考虑**
   - 演示登录仅用于测试环境
   - 生产环境应移除演示登录功能

---

📝 **更新时间**: 2025年9月7日  
🔧 **版本**: v1.0.0