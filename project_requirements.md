# 亮车惠 · 自助洗车系统 - 项目需求文档（PRD）

> 文档版本：v1.0  
> 更新时间：2025-08-22  
> 范围：功能需求，不涉及系统架构与技术实现  

---

## 一、项目背景
近年来，随着私家车数量的持续增长，传统洗车服务存在以下问题：  
- 门店洗车需要排队，效率低  
- 人工成本高，运营压力大  
- 加盟商管理分散，缺乏统一平台  

自助洗车作为新兴业态，能够显著降低人工成本、提升用户体验。本项目旨在打造 **“亮车惠 · 自助洗车系统”**，通过 **微信公众号服务号 H5** 为用户提供便捷的自助洗车体验，并为加盟商户和平台提供统一的运营管理后台。

---

## 二、项目目标
1. **用户体验目标**  
   - 扫码即用，操作流程简洁  
   - 支持微信支付、充值赠送套餐  
   - 提供优惠券、新人专享福利  
   - 提供完整的订单查询、退款、发票服务  

2. **商户运营目标**  
   - 独立的商户后台，支持设备与门店管理  
   - 查看营收流水、订单详情、提现进度  
   - 员工角色分配，支持多角色协作  

3. **平台管理目标**  
   - 统一管理商户、设备、财务  
   - 监控设备运行情况（上线/下线/缺水缺液）  
   - 审核商户入驻、提现申请  
   - 配置全局优惠券、套餐、新人福利  
   - 提供统一的消息通知机制  

---

## 三、用户角色与权限
1. **用户（车主）**  
   - 使用洗车机设备  
   - 管理个人订单与充值记录  
   - 使用优惠券和充值赠送套餐  

2. **商户**  
   - 管理所属门店与设备  
   - 查看营收与订单  
   - 提现与员工管理  

3. **平台管理员**  
   - 全平台商户与设备管理  
   - 审核、结算与告警处理  
   - 财务与优惠券配置  

---

## 四、业务流程

### 1. 用户端流程
1. 用户关注公众号 → 授权登录  
2. 扫码设备 → 跳转支付页 → 支付完成  
3. 平台下发启动指令 → 设备运行  
4. 设备上报结算信息 → 平台生成订单  
5. 用户可在订单中心查看订单，申请发票或退款  

### 2. 商户端流程
1. 商户登录后台（PC/H5）  
2. 管理设备与门店信息  
3. 查看订单与营收数据  
4. 发起提现，等待平台审核  
5. 管理员工权限  

### 3. 平台端流程
1. 审核商户入驻申请  
2. 管理全平台设备状态与告警  
3. 处理订单与退款  
4. 统一财务结算与商户提现  
5. 配置优惠活动与通知模板  

---

## 五、功能需求

### 1. 用户端（微信公众号 H5）
- 登录注册：手机号+验证码登录，支持微信 OAuth  
- 扫码使用设备：扫码启动 → 支付 → 使用 → 结算  
- 订单管理：查询订单、退款申请、开发票  
- 账户充值：支持充值赠送套餐（充100送20）  
- 优惠券：支持新人专享、满减、限时使用  
- 消息通知：订单支付成功、订单完成、退款结果推送  

### 2. 商户后台（PC + H5）
- 商户资料：门店信息、营业执照、结算账户  
- 设备管理：绑定/解绑设备、查看设备状态  
- 订单流水：查看订单、营收统计、退款处理  
- 财务提现：发起提现，查看提现状态  
- 员工管理：分配角色权限（收银员/店长/管理员）  

### 3. 平台管理后台（PC + H5）
- 商户管理：入驻审核、冻结/解冻  
- 设备管理：全平台设备在线/离线、缺水缺液告警  
- 订单管理：全局订单查询、退款审核  
- 财务管理：统一结算与商户提现审核  
- 优惠配置：设置充值套餐、优惠券、新人专享  
- 消息通知：统一配置公众号模板消息  
- 告警管理：设备异常告警推送  

---

## 六、非功能性需求
1. **易用性**：H5 页面需简洁直观  
2. **可靠性**：设备异常必须告警，消息需确保送达  
3. **安全性**：支付与提现需安全验证  
4. **可扩展性**：支持多商户、多设备并发  
5. **合规性**：符合微信支付、个人信息保护法律法规  

---

## 七、约束与边界
- 用户端仅支持微信公众号服务号  
- 不支持 IC 卡刷卡、车牌识别登录  
- 不涉及积分奖励、推荐有礼、活动推送  
- 本文档不涉及技术架构、数据库设计、接口定义  

---

## 八、未来规划
- 增加会员卡（月卡、季卡）  
- 增加洗车排行榜与评价体系  
- 增加设备远程维护与运维助手  

---

📌 **说明**：  
本需求文档仅为功能需求说明，开发团队需结合 **接口文档（api_contract.md）**、**环境配置（env_config_doc.md）** 与 **状态机设计（state_machines.md）** 联合使用。  
